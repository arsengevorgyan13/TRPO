### Выбор API Gateway

**Дата:** 9 декабря 2025 г.
**Статус:** Принято  

**Контекст:**
Необходимо выбрать API Gateway для того, чтобы иметь одну точку входа в приложение. Он должен обеспечивать маршрутизацию, аутентификацию, ограничение частоты запросов  

**Рассмотренные варианты:**  
1. **Kong:** Гибкость, поддержка плагинов (lua), но сложность настройки, требует плагинов для глубокой трассировки/метрик. Сложность эксплуатации - Умеренная/Высокая
2. **Nginx:** Простота, но ограниченная функциональность для микросервисов. Сложность эксплуатации - Умеренная/Низкая
3. **Envoy:** Высокая производительность, поддержка gRPC, расширяемость, встроенные метрики. Сложность эксплуатации - Высокая

**Решение:**  
Выбран **Envoy**

**Обоснование:**  
- **Есть опыт работы с envoy**
- **Высокая производительность:** Envoy оптимизирован для обработки высоких нагрузок
- **Поддержка gRPC и HTTP/2:** Envoy поддерживает современные протоколы
- **Расширяемость:** Модульная архитектура с фильтрами и interceptor-ами
- **Активное сообщество и документация**  
- **Гибкость конфигурации:** динамическое обновление не требующее перезагрузки  

**Недостатки решения:**  
- **Сложность настройки:** Конфигурация Envoy требует времени и экспертизы
- **Сложность отладки:** Безопасное тестирование и отладка требуют инструментов
- **Бутылочное горлышко в виде одного сервиса**

**Последствия:**  
- Внедрение Envoy в качестве API Gateway для маршрутизации, аутентификации и мониторинга  
- Повышение наблюдаемости системы за счет централизованного управления трафиком  
