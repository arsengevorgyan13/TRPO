### Выбор системы кэширования

**Дата:** 9 декабря 2025 г.  
**Статус:** Принято

**Контекст:**  
Необходимо внедрить систему кэширования для повышения производительности, снижения задержки и нагрузки на БД. Кэширование позволит ускорить доступ к часто используемым данным

**Рассмотренные варианты:**
1. **In-memory кэш (Go-мапы):** Просто реализуется, но плохо масштабируется + отсутствие отказоустойчивости
2. **Memcached:** Высокая скорость, но ограниченная поддержка структурированных данных. Нет персистентности
3. **Redis:** Поддержка структурированных данных, возможность хранения кеша на диске. Однопоточный доступ, но есть возможность кластеризации
4. **Hazelcast:** Масштабируемость, но сложность интеграции. Больше для работы как единая распределенная база данных в реальном времени, а не просто кэш

**Решение:**  
Выбран **Redis**.

**Обоснование:**
- **Поддержка структурированных данных:** Redis позволяет хранить не только строки, но и хэши, списки, множества
- **Отказоустойчивость:** Возможность сохранения данных на диск (RDB/AOF) обеспечивает защиту от потери кеша при сбое
- **Кластеризация:** Redis Cluster позволяет распределить нагрузку и обеспечить высокую доступность
- **Интеграция с Go:** Существует множество библиотек для удобной работы с Redis
- **Гибкость:** Поддержка TTL (времени жизни ключа) позволяет автоматически удалять устаревшие данные

**Недостатки решения:**
- Нужно задумываться над инвалидацией кэша
- Увеличение операционных затрат на поддержку Redis-кластера

**Последствия:**
- Внедрение Redis для кэширования часто запрашиваемых данных
- Снижение нагрузки на PostgreSQL за счет кэширования результатов сложных запросов
